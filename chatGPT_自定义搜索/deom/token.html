<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>使用Cookie提交数据到API</title>
    <style>
		#data{	width:900px;height:400px;overflow-y:scroll;border: 1px solid black;}
        input {width: 600px; }
        textarea {width: 600px; height: 100px;}
	</style>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</head>

<body>
    <input type="text" id="url" placeholder="请输入URL" value="https://ct.ctrip.com/restapi/restapi?serviceName=CorpFltSearchService&operation=domesticSearch">
    <br>
    <textarea id="requestPayload" placeholder="请输入请求体">{"CorpPayType":"public","GE":"1692345108394","Site":"1","clientTimezoneOffsetMinutesNew":"480","head":{"head":{"sourceFrom":"Online","extension":[{"name":"GE","value":"1692345108394"}],"channel":"Online","cid":"09031096312428539651","vid":"1691978917818.48phe8"},"CorpPayType":"public","language":"CHS","pu":0.1020243967439618,"token":"","sToken":"1eb8ae47895047eebe79df82ea7764fd","Site":"1","locale":"zh_CN","clientTimezoneOffsetMinutesNew":"480","GE":"1692345108394","serviceName":"CorpFltSearchService","operation":"domesticSearch","params":{"corpPayType":"PUB","approvalNo":"635710","flightSearchInfo":[{"dDate":"2023-08-29","dCity":"CAN","aCity":"SHA","dCityName":"广州","aCityName":"上海"}],"policyUid":"","tripType":"S","bType":"","isEmergency":false,"isJustSearch":false,"travelerInfoList":[{"travelerEligibility":"adult","count":1},{"travelerEligibility":"child","count":0}],"sort":"-1","segNo":1,"filter":{"cabin":"","airlineCodes":[""]},"pId":""}},"language":"CHS","locale":"zh_CN","operation":"domesticSearch","params":{"corpPayType":"PUB","approvalNo":"635710","flightSearchInfo":[{"dDate":"2023-08-29","dCity":"CAN","aCity":"SHA","dCityName":"广州","aCityName":"上海"}],"policyUid":"","tripType":"S","bType":"","isEmergency":false,"isJustSearch":false,"travelerInfoList":[{"travelerEligibility":"adult","count":1},{"travelerEligibility":"child","count":0}],"sort":"-1","segNo":1,"filter":{"cabin":"","airlineCodes":[""]},"pId":""},"pu":0.1020243967439618,"sToken":"1eb8ae47895047eebe79df82ea7764fd","serviceName":"CorpFltSearchService","token":""}</textarea>
    <br>
    <textarea id="headers" placeholder="请输入请求头">{"User-Agent":"Mozilla/5.0(WindowsNT10.0;Win64;x64)AppleWebKit/537.36(KHTML,likeGecko)Chrome/91.0.4472.124Safari/537.36","Referer":"https://ct.ctrip.com/corp-flight-booking/list?ST=S&CPT=PUB&city=CAN_SHA&AP=NA_NA_NA_NA&time=2023-08-29&L=zh-CN&CT=YCF&sToken=bd0de867-ce7b-4d50-9e28-dad0d7566a0c&ptData=[{%22type%22:%22adult%22,%22number%22:1},{%22type%22:%22child%22,%22number%22:0}]&approvalNo=635710&policyName=%E8%8C%83%E7%A7%89%E6%B7%87","Content-Type":"application/json","cookie":"JSESSIONID=3A8BE7C52179B20A1C0DEB7C23E94C30;corpid=QYHB;DUID=u=D96A72F5F67D1FF00B42D111C333F16E&v=0;sToken=1eb8ae47895047eebe79df82ea7764fd;corpid=QYHB;GUID=09031096312428539651;x-ctx-personal-recommend=1;_bfaStatusPVSend=1;_RSG=hAaSSR_veA8b0W4IPV_VxB;_RDG=28ede8522328b7288e2ea31d414bf5ce02;_RGUID=82a8e7f6-dc72-42ab-bedf-fdf652120025;isCorpPayTypeRequire=T;Corp_ResLang=zh-CN;UBT_VID=1691978917818.48phe8;_sToken=1eb8ae47895047eebe79df82ea7764fd;_language=zh_CN;SSOkey=2a96049d-ee24-49c8-98dc-a9dd4f7cf2e6;cticket=65BEB3EB4B95D4BD3FC34C9EB47BFC2FC369374B76FC8A132257EBB871771D32;_RF1=210.21.44.84;_abtest_userid=daf5224c-4053-4625-8ce9-860e1b0cad6d;_bfa=1.1691978917818.48phe8.1.1692345105944.1692349252329.6.1.0;_ubtstatus=%7B%22vid%22%3A%221691978917818.48phe8%22%2C%22sid%22%3A6%2C%22pvid%22%3A1%2C%22pid%22%3A0%7D;_bfi=p1%3D10650045156%26p2%3D10650045156%26v1%3D1%26v2%3D17;_bfaStatus=success"}</textarea>
    <br>
    <button onclick="submitData()">提交</button>
    <div id="data"></div>
    <script>
        function submitData() {
            var url = $('#url').val();
            var requestPayload = $('#requestPayload').val();
            var headers = JSON.parse($('#headers').val());
            axios.post('/api/search', {
                requestPayload: requestPayload,
                url: url,
                headers: headers
                })
                .then(response => {
                    // 处理响应数据
                    console.log(response.data);
                    $('#data').html(JSON.stringify(response.data))
                })
                .catch(error => {
                    console.error(error);
                });
        }
    </script>
</body>

</html>